machine:
    python:
        version: 2.7.11

dependencies:
    pre:
        - sudo add-apt-repository -y ppa:ubuntugis/ppa
        - sudo apt-get update
        - sudo apt-get -y --no-install-recommends --force-yes install python-numpy libgdal1h gdal-bin libgdal-dev
    override:
        - pip install -U pip
        - pip install numpy
        - pip install -r requirements.txt
        - pip install -e ".[test]"

test:
    override:
        - py.test --cov raster_tester --cov-report term-missing --ignore=venv
    post:
        - codecov -t afb96efd-4a17-4272-a1bf-33317cad5462
        - codecov

